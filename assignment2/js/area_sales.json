{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "data": {
    "url": "https://raw.githubusercontent.com/markiessuah/FIT3179/main/datasets/game_sale_rating.csv"
  },
  "params": [
    {
      "name": "Platform_selection",
      "bind": {
        "input": "select",
        "options": [
          null,
          "Atari",
          "Microsoft",
          "Nintendo",
          "PC",
          "PlayStation",
          "Sega"
        ],
        "labels": [
          "Show All",
          "Atari",
          "Microsoft",
          "Nintendo",
          "PC",
          "PlayStation",
          "Sega"
        ],
        "name": "Platform Selection: "
      }
    }
  ],
  "transform": [
    {
      "filter": "Platform_selection == null || datum.platformC == Platform_selection"
    }
  ],
  "vconcat": [
    {
      "width": 600,
      "mark": {"type": "area", "color": "orange"},
      "encoding": {
        "x": {
          "field": "year",
          "type": "temporal",
          "scale": {"domain": {"param": "year"}},
          "axis": {"title": ""}
        },
        "y": {
          "aggregate": "sum",
          "field": "global_sales",
          "type": "quantitative",
          "title": "Total global sales"
        },
        "tooltip": [
          {
            "aggregate": "sum",
            "field": "global_sales",
            "type": "quantitative",
            "title": "Global Sales ($M)",
            "format": ",.2f"
          }
        ]
      }
    },
    {
      "width": 600,
      "height": 60,
      "mark": {"type": "line", "color": "lightblue"},
      "params": [
        {"name": "year", "select": {"type": "interval", "encodings": ["x"]}}
      ],
      "encoding": {
        "x": {"field": "year", "type": "temporal", "title": "Year"},
        "y": {
          "aggregate": "sum",
          "field": "global_sales",
          "type": "quantitative",
          "scale": {"domain": [0, 700]},
          "axis": {"tickCount": 3, "grid": false, "title": ""}
        }
      }
    }
  ],
  "config": {}
}